{% extends "base.html" %}
{% block content %}
<h2>ðŸ”’ Saved Passwords</h2>

<!-- Add Password Form -->
<form action="{{ url_for('add_password') }}" method="POST">
    <input type="text" name="website" placeholder="Website" required>
    <input type="text" name="password" id="password" placeholder="Password" required>
    <button type="button" onclick="document.getElementById('password').value='{{ generate_password() }}'">Generate</button>
    <button type="submit">Add</button>
</form>

<!-- Search Bar -->
<input type="text" id="search" placeholder="Search website..." onkeyup="filterTable()">

<!-- Password Table -->
<table>
    <tr>
        <th>Website</th>
        <th>Password</th>
        <th>Actions</th>
    </tr>
    {% for pw in passwords %}
    <tr>
        <td>{{ pw.site }}</td>
        <td>{{ pw.password }}</td>
        <td>
            <a href="{{ url_for('edit_password', site=pw.site) }}">Edit</a> |
            <form action="{{ url_for('delete_password', site=pw.site) }}" method="POST" style="display:inline;">
                <button type="submit">Delete</button>
            </form> |
            <button onclick="navigator.clipboard.writeText('{{ pw.password }}')">Copy</button>
        </td>
    </tr>
    {% endfor %}
</table
